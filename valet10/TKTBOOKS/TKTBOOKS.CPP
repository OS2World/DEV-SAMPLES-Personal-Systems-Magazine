
/*
 *  This file was generated by the SOM Compiler.
 *  Generated using:
 *     SOM incremental update: 2.41
 */

/*
 *  This file was generated by the SOM Compiler and Emitter Framework.
 *  Generated using: 
 *      SOM Emitter emitxtm: 2.41
 */

#ifndef SOM_Module_tktbooks_Source
#define SOM_Module_tktbooks_Source
#endif
#define TktBookS_Class_Source

#include "tktbooks.xih"


SOM_Scope void  SOMLINK deleteTicket(TktBookS *somSelf,  Environment *ev, 
                                     Ticket* aTicket)
{
    TktBookSData *somThis = TktBookSGetData(somSelf);
    TktBookSMethodDebug("TktBookS","deleteTicket");

}


SOM_Scope Ticket*  SOMLINK getTicket(TktBookS *somSelf,  Environment *ev, 
                                     Garage* aGarage)
{
    TktBookSData *somThis = TktBookSGetData(somSelf);
    TktBookSMethodDebug("TktBookS","getTicket");
    Ticket *aTicket = new Ticket;
    aTicket->_set_ticketNum(ev,somThis->nextTicketNum);
    somThis->nextTicketNum++;

    aTicket->_set_parkingSlotNum(ev,aGarage->getAvailableParkingSlot(ev));

    return aTicket;
}

SOM_Scope void SOMLINK somDefaultInit(TktBookS *somSelf, somInitCtrl* ctrl)
{
    TktBookSData *somThis; /* set in BeginInitializer */
    somInitCtrl globalCtrl;
    somBooleanVector myMask;
    TktBookSMethodDebug("TktBookS","somDefaultInit");
    TktBookS_BeginInitializer_somDefaultInit;

    TktBookS_Init_SOMObject_somDefaultInit(somSelf, ctrl);

    somThis->nextTicketNum=0;
}


SOM_Scope void SOMLINK somDestruct(TktBookS *somSelf, octet doFree, 
                                   somDestructCtrl* ctrl)
{
    TktBookSData *somThis; /* set in BeginDestructor */
    somDestructCtrl globalCtrl;
    somBooleanVector myMask;
    TktBookSMethodDebug("TktBookS","somDestruct");
    TktBookS_BeginDestructor;

    /* 
     * local TktBookS deinitialization code added by programmer 
     */

    TktBookS_EndDestructor;
}


